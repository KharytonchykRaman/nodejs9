<!DOCTYPE html>
<html>
  <head>
    <title>{{title}}</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <style>
      .card:hover {
        transform: scale(1.7);
        z-index: 13;
        transition: transform 0.6s ease-in-out;
      }

      .dollar-color {
        color: #008000;
      }

      .centered-heading {
        text-align: center;
        color: #4f81f3;
      }

      .card img {
        max-height: 90%;
        max-width: 90%;
        margin: 5px;
      }

      .card {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="mt-3 centered-heading">{{titleH1}}</h1>
      <div>
        <input
          type="number"
          step="10"
          placeholder="max price"
          id="maxpriceInput"
        />
        <input type="text" placeholder="brand" id="brandInput" />
        sortByPrice <input type="checkbox" id="sortCheckbox" />
        <button id="searchButton">Search</button>
      </div>
      <div id="content" class="row mt-5">{{content}}</div>
    </div>
    <script>
      document.querySelector("#searchButton").addEventListener("click", (e) => {
        window.location = `/catalog/device/all?maxprice=${
          maxpriceInput.value
        }&brand=${encodeURI(brandInput.value)}&sort=${sortCheckbox.checked}`;
      });

      const query = new URLSearchParams(window.location.search);

      if (query.has("maxprice")) maxpriceInput.value = query.get("maxprice");
      if (query.has("brand")) brandInput.value = query.get("brand");
      if (query.has("sort")) sortCheckbox.checked = query.get("sort") == "true";
    </script>
  </body>
</html>
